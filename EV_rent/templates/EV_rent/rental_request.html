{% extends 'base.html' %}
{% load static i18n %}
{% load widget_tweaks %}

{% block title %} {% trans 'Rental Request' %} {% endblock %}

{% block meta %}
    {% if not user.is_authenticated %}
        <meta http-equiv="refresh" content="3;URL={% url 'login' %}"/>
    {% endif %}
{% endblock %}

{% block style_css %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    {% if user.is_authenticated %}
        <link rel="stylesheet" type='text/css' href="{% static 'users/css/sign_css.css' %}">
    {% endif %}
{% endblock %}

{% block cnt %}
    {% if user.is_authenticated %}
        <div class="container-fluid">
            <div class="offset-md-4 col-md-4 offset-sm-3 col-sm-6">
                <div class="form-container">
                    <h3 class="title">{% trans "Rental Request" %} - {{ car.car_full_name }}</h3>

                    <form class="form-horizontal" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="hidden" name="person" value="{{ user.pk }}">
{#                        <div class="form-group">#}
{#                            <input class="form-control" type="text" name="first_name" id="id_first_name"#}
{#                                   placeholder="First Name" value={{ person.first_name }}>#}
{#                        </div>#}
{#                        <div class="form-group">#}
{#                            <input class="form-control" type="text" name="last_name" id="id_last_name"#}
{#                                   placeholder="Last Name" value={{ person.last_name }}>#}
{#                        </div>#}
{#                        <div class="form-group">#}
{#                            <input class="form-control" type="email" name="email" id="id_email" placeholder="Person"#}
{#                                   value={{ person.email }}>#}
{#                        </div>#}
                        <div class="form-group">
                            <span class="description" style="text-align: left; margin-bottom: 0">{% trans 'First Name' %}:</span>
                            <p class="form-control" style="text-align: left; cursor: pointer; font-size: 17px">{{ user.first_name }}</p>
                        </div>

                        <div class="form-group">
                            <span class="description" style="text-align: left; margin-bottom: 0">{% trans 'Last Name' %}:</span>
                            <p class="form-control" style="text-align: left; cursor: pointer; font-size: 17px">{{ user.last_name }}</p>
                        </div>

                        <div class="form-group">
                            <span class="description" style="text-align: left; margin-bottom: 0">E-mail:</span>
                            <p class="form-control" style="text-align: left; cursor: pointer; font-size: 17px">{{ user.email }}</p>
                        </div>

                        <div class="form-group">
                            {% render_field form.num_days|add_class:"form-control" placeholder="Number of Days" %}
                        </div>

                        <button type="submit" class="btn signup">Submit</button>
                    </form>
                </div>
            </div>
        </div>

    {% else %}

        <p style="height: 700px; margin-top: 300px; font-size: 34px; text-align: center">
            {% trans 'You are not authorized! You will be redirected to the login page..' %}
        </p>

    {% endif %}

{% endblock %}
